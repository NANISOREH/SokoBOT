expand(nodoIniziale)

struct transpositionTable //globale, già formata

struct nodiEspansi

for (Cell cassa : nodoIniziale) 
	if (cassa.vicinoNord è EMPTY) AND (posizioniRaggiungibili.contains(cassa.vicinoNord)
		newNodo = nodoIniziale.clone()

		if (push(newNodo, cassa.vicinoNord, down)) AND (!transpositionTable.contains(newNodo))
			nodiEspansi.add(newNodo)
			transpositionTable.add(newNodo.hash())

	if (cassa.vicinoSud è EMPTY) AND (posizioniRaggiungibili.contains(cassa.vicinoSud)
		newNodo = nodoIniziale.clone()

		if (push(newNodo, cassa.vicinoSud, up)) AND (!transpositionTable.contains(newNodo))
			nodiEspansi.add(newNodo)
			transpositionTable.add(newNodo.hash())

	...
	...

//push() esegue un flood fill per individuare il percorso da sokoban al neighbour corretto della cassa e poi effettua le mosse
//restituisce false e quindi impedisce l'aggiunta del nodo se non trova nessun percorso (la spinta era impossibile perchè la cassa è irraggiungibile)